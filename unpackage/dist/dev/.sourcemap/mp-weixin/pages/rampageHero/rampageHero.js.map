{"version":3,"sources":["uni-app:///main.js",null,"webpack:////Users/taojiajie/Documents/code/hbuild/uni-game-tjj/pages/rampageHero/rampageHero.vue?3111","webpack:////Users/taojiajie/Documents/code/hbuild/uni-game-tjj/pages/rampageHero/rampageHero.vue?b878","webpack:////Users/taojiajie/Documents/code/hbuild/uni-game-tjj/pages/rampageHero/rampageHero.vue?e90a","uni-app:///pages/rampageHero/rampageHero.vue","webpack:////Users/taojiajie/Documents/code/hbuild/uni-game-tjj/pages/rampageHero/rampageHero.vue?a3e0","webpack:////Users/taojiajie/Documents/code/hbuild/uni-game-tjj/pages/rampageHero/rampageHero.vue?468a"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","imageURL","isPortrait","windowWidth","windowHeight","totalWid","pauseOrRun","timer","clock","ctx","gameOverOverlay","showOverlay","stopText","killCount","heroObj","url","rate","x","y","w","h","speed","attackSpeed","attackLength","bloodPercent","totalblood","lucky","arms","monster","hUrl","time","type","hList","bloodPack","attackSpeedList","innerAudioContextHeart","top","bottom","left","watch","computed","barWidth","barColor","color","rocketWidth","rocketHeight","rocketTop","rocketLeft","rocketCenterWidth","rocketCenterHeight","rocketCenterTop","rocketCenterLeft","onLoad","uni","onReady","success","console","that","t","clearInterval","onUnload","methods","drawClock","stopClock","startDraw","drawHreo","createArms","drawArms","createPhoton","toX","toY","drawPhoton","nowX","nowY","mitem","createMonster","lr","drawMonster","bc","fc","p","createBloodPack","drawBloodPack","setTimeout","createAttackSpeedList","drawAttackSpeedList","rotate","drawBloodBar","barObj","drawText","gradient","pauseOrRunFunc","toGameHome","delta","playAudio","innerAudioContext","liskeydown","document","controlHeroMove","trueMoveSpeed","touchEvent","touchend","gameOverFunc"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,oBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoI;AACpI;AAC+D;AACL;AACsC;;;AAGhG;AACmN;AACnN,gBAAgB,iNAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,kGAAM;AACR,EAAE,2GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC5EA;AAAA;AAAA;AAAA;AAAw1B,CAAgB,yyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;AC+D52B;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAEA;EACAC;IAAA;IACA;MACAC;MACAC;MAAA;MACAC;MACAC;MACAC;MAEAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;;MAEAC;MAAA;MACAC;MAAA;MACAC;MAAA;;MAEA;MACAC;MACA;MACAC;QACAC;QACAC;QAAA;QACAC;QACAC;QACAC;QACAC;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;MACA;;MACA;MACAC;MACA;MACAD,OACA;QAAAZ;QAAAc;QAAAC;QAAAC;MAAA,GACA;QAAAhB;QAAAc;QAAAC;QAAAC;MAAA,GACA;QAAAhB;QAAAc;QAAAC;QAAAC;MAAA,GACA;QAAAhB;QAAAc;QAAAC;QAAAC;MAAA,GACA;QAAAhB;QAAAc;QAAAC;QAAAC;MAAA,GACA;QAAAhB;QAAAc;QAAAC;QAAAC;MAAA,EACA;MACA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;;MAEA;MACAC;MAAA;MACAC;MAAA;MACAC;IAAA,8CACA,sDACA,yDAEA,yDACA,kDACA,kDACA;EAEA;EACAC;IACA;IACAjC;MACA;IACA;IACA;IACA;MACA;MACA;QACA;QACA;QACA;MACA;;MACA;QACA;QACA;MACA;QACA;MACA;;MAEA;MACA;QACA;MACA;IACA;EACA;EACAkC;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;QACAC;MACA;QACAA;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IAEA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;IACA;EACA;EACAC;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;;IAEA;IACA;IACA;IACAC;IACA;EACA;EAEAC;IACA;IACA;IACA;IACAD;MACAE;QACAC;QACA;QACAC;QACAA;;QAEA;QACAA;QACA;QACAA;QACAA;QACAA;QACAA;QAEAA;QACAA;QACAA;QACAA;QACA;QACA;QACA;QACA;QACAA;QACAA;QACA;QACAA;QACAA;;QAEA;QACA;QACAA;UACA;YACAA;YACAA;UACA;YACAA;YACAA;UACA;UACAC;UACA;YACA;cACAC;cACAF;YACA;YACAA;YACAA;UACA;QACA;MAEA;IACA;EAEA;EACAG;IACA;IACA;EACA;EAEAC;IACAC;MAAA;MACA;MACA;QACA;MACA;IACA;IACAC;MACA;MACA;QACAJ;QACA;MACA;IACA;IAEAK;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;UACAnD;QACA;QACA;QACA;UACAD;UACAE;UACAC;UACAC;UACAC;UACAJ;QACA;MACA;IACA;IAEA;IACAoD;MAAA;MACA;MACA;MACA;MACA;MAAA,2CAEA;QAAA;MAAA;QAAA;UAAA;UACA;YACA;YACA;YACA;YACA;YACA;YACA;cACA;cACA;gBACArD;gBACAE;gBACAC;gBACAC;gBACAC;gBACAiD;gBACAC;gBACAjD;cACA;cACA;cACA;cACA;gBAAA;cAAA;cACA;YACA;UACA;QACA;MAAA;QAAA;MAAA;QAAA;MAAA;IACA;IAEA;IACAkD;MACA;MACA;MACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACAC;QACAC;QAEA;QACA;QAEA;;QAEA;QACA;QACA;UACA;QACA;QACA;QACA;UACA;UACA;YACA;YACA;YACA;cACAC;cACA;cACA;cACA;YACA;cACAA;YACA;UACA;QACA;MAEA;IACA;IAEA;IACAC;MACA;MACA;QACAnD;MACA;MACA;QACAA;MACA;MACA;QACAA;MACA;MACA;QACAA;MACA;MACA;QACAA;MACA;MACA;QACAA;MACA;MACA;QACAA;MACA;MACA;QACAA;MACA;MACA;QACAA;MACA;MACA;QACAA;MACA;MACA;QACAA;MACA;MACA;QACA,kBACA;UACAT;UACAE;UACAC;UACAC;UACAC;UACAJ;UAAA;UACA4D;UAAA;UACAvD;UAAA;UACAG;UAAA;UACAC;QACA,EACA;MACA;IACA;IAEA;IACAoD;MACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACAL;QACAC;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;UACA1D;UACAE;UACAC;UACAC;UACAC;UACAJ;QACA;QACA;QACA,kBACA;UACAC;UACAC;UACAC;UACAC;UACA;UACA0D;UACAC;UACAC;QACA,EACA;;QAEA;QACA;QACA,kGAEAP;UACA;UACA;UACA;UACA;YACA;UACA;YACA;UACA;UACA;UACA;UACA;QACA;QAAA;MACA;IACA;IAEA;IACAQ;MACA;QACA,oBACA;UACAlE;UACAE;UACAC;UACAC;UACAC;UACAJ;UAAA;UACA4D;QACA,EACA;MACA;IACA;IAEA;IACAM;MAAA;MACA;QACA;QACA;QACA;QACA;QACA;UACAnE;UACAE;UACAC;UACAC;UACAC;UACAJ;QACA;;QAEA;QACA;QACA,oIAEA;UACA;UACA;UACA;UACA;YACA;UACA;YACA;UACA;UACA;UACA;UACAmE;YACA;UACA;QACA;QAAA;MACA;IACA;IAEA;IACAC;MACA;QACA,0BACA;UACArE;UACAE;UACAC;UACAC;UACAC;UACAJ;UAAA;UACA4D;QACA,EACA;MACA;IACA;IAEA;IACAS;MAAA;MACA;QACA;QACA;QACA;QACA;QACA;UACAtE;UACAE;UACAC;UACAC;UACAC;UACAJ;QACA;;QAEA;QACA;QACA,gJAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACAmE;YACA;UACA;QACA;QAAA;MACA;IACA;IACA;IACA;IACA;IACA;IACAG;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;IACA;IACA;IACAC;MACA;MACA;MACA,kBACAC,oBACAA,mBACA;MACA;MACA,kBACAA,oBACAA,8BACA;;MAEA;MACA;IACA;IACA;IACAC;MACA;MACAC;MACAA;MACA;MACA;MACA;IACA;IACA;IACAC;MACAnC;MACA;QACA;MACA;QACA;MACA;IACA;IACA;IACAoC;MACAvC;QACAwC;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;;MAEA;MACA;MACAC;MACA;MACAA;MACAZ;QACAY;MACA;IACA;IAGA;IACAC;MACA;MACAC;QACA;QACA;UACA;UACAxC;QACA;UACA;UACAA;QACA;UACA;UACAA;QACA;UACA;UACAA;QACA;UACA;UACAA;QACA;MACA;MACAwC;QACA;QACA;UACA;UACAxC;QACA;UACA;UACAA;QACA;UACA;UACAA;QACA;UACA;UACAA;QACA;MACA;IAEA;IACA;IACAyC;MACA;MACA;MACA;QACAC;QACA;MACA;MACA;MACA;QACA;UACA;QACA;UACA;QACA;MACA;MACA;QACA;UACA;QACA;UACA;QACA;MACA;MACA;QACA;UACA;QACA;UACA;QACA;MACA;MACA;QACA;UACA;QACA;UACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAGA;QACA;QACA;QACA;MACA;QACA;QACA;QACA;MACA;QACA;QACA;MACA;MAAA;MAEA;QACA;QACA;QACA;MACA;QACA;QACA;QACA;MACA;QACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;MACAnB;QACA;QACA;QACA;QACA;MACA;IACA;EACA;AAEA;AAAA,2B;;;;;;;;;;;;;ACh5BA;AAAA;AAAA;AAAA;AAA2lD,CAAgB,g8CAAG,EAAC,C;;;;;;;;;;;ACA/mD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/rampageHero/rampageHero.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/rampageHero/rampageHero.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./rampageHero.vue?vue&type=template&id=a617e2d4&scoped=true&\"\nvar renderjs\nimport script from \"./rampageHero.vue?vue&type=script&lang=js&\"\nexport * from \"./rampageHero.vue?vue&type=script&lang=js&\"\nimport style0 from \"./rampageHero.vue?vue&type=style&index=0&id=a617e2d4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a617e2d4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/rampageHero/rampageHero.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./rampageHero.vue?vue&type=template&id=a617e2d4&scoped=true&\"","var components\ntry {\n  components = {\n    uOverlay: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-overlay/u-overlay\" */ \"uview-ui/components/u-overlay/u-overlay.vue\"\n      )\n    },\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-button/u-button\" */ \"uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.heroObj.attackSpeed.toFixed(1)\n  if (!_vm._isMounted) {\n    _vm.e0 = function () {\n      _vm.pauseOrRun = false\n    }\n    _vm.e1 = function () {\n      _vm.pauseOrRun = true\n    }\n    _vm.e2 = function ($event) {\n      $event.stopPropagation()\n      return (function (e) {\n        e.preventDefault()\n        _vm.touchEvent(e.changedTouches[0].x, e.changedTouches[0].y)\n      })($event)\n    }\n    _vm.e3 = function ($event) {\n      $event.stopPropagation()\n      return (function (e) {\n        e.preventDefault()\n        _vm.touchEvent(e.changedTouches[0].x, e.changedTouches[0].y)\n      })($event)\n    }\n    _vm.e4 = function ($event) {\n      $event.stopPropagation()\n      return (function (e) {\n        e.preventDefault()\n        _vm.touchend()\n      })($event)\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./rampageHero.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./rampageHero.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"content\">\n\t\t<!-- 游戏开始倒计时 -->\n\t\t<u-overlay :show=\"showOverlay\">\n\t\t\t<view class=\"warp\">\n\t\t\t\t<view class=\"startText\">游戏即将开始</view>\n\t\t\t\t<view v-if=\"stopText !== -1\" class=\"startNum\">{{stopText}}</view>\n\t\t\t</view>\n\t\t</u-overlay>\n\t\t<!-- 游戏结束 -->\n\t\t<u-overlay :show=\"gameOverOverlay\">\n\t\t\t<view class=\"warp\">\n\t\t\t\t<view class=\"startText\">游戏结束</view>\n\t\t\t\t<view class=\"startNum\">得分：{{killCount}}</view>\n\t\t\t\t<view class=\"toGameHome\">\n\t\t\t\t\t<u-button @click=\"toGameHome\" type=\"primary\">返回首页</u-button>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</u-overlay>\n\t\t<!-- 顶部 -->\n\t\t<view class=\"topBar\">\n\t\t\t<!-- 返回按钮 -->\n\t\t\t<view class=\"pause\">\n\t\t\t\t<image @click=\"toGameHome\" class=\"pimg\" src=\"/static/back.png\"></image>\n\t\t\t</view>\n\t\t\t<view class=\"killCount\">得分：{{killCount}}</view>\n\t\t\t<view class=\"killCount\">攻速倍率：{{heroObj.attackSpeed.toFixed(1)}}</view>\n\t\t\t<view class=\"bloodPercent\">\n\t\t\t\t<view :style=\"{width: barWidth, backgroundColor: barColor}\" class=\"bloodPercentContent\"></view>\n\t\t\t\t<view :style=\"{color: barColor}\" class=\"bloodPercentText\">{{heroObj.bloodPercent}}/{{heroObj.totalblood}}</view>\n\t\t\t</view>\n\t\t\t<!-- 暂停按钮 -->\n\t\t\t<view class=\"pause\">\n\t\t\t\t<image @click=\"() => {pauseOrRun = false}\" v-if=\"pauseOrRun\" class=\"pimg\" src=\"/static/pause.png\"></image>\n\t\t\t\t<image @click=\"() => {pauseOrRun = true}\" v-else class=\"pimg\" src=\"/static/run.png\"></image>\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- 底部摇杆 -->\n\t\t<view class=\"rocker\" :style=\"{width: rocketWidth, height: rocketHeight, top: rocketTop, left: rocketLeft}\"></view>\n\t\t<view class=\"rockerCenter\" :style=\"{width: rocketCenterWidth, height: rocketCenterHeight, top: rocketCenterTop, left: rocketCenterLeft}\"></view>\n\t\t<canvas \n\t\t\t:style=\"{backgroundImage: 'url('+imageURL+')'}\" \n\t\t\t:class=\"{'contentShadow': heroObj.bloodPercent <= heroObj.totalblood / 4}\"\n\t\t\tcanvas-id=\"myCanvas\" \n\t\t\tid=\"myCanvas\" \n\t\t\ttabindex=\"0\"\n\t\t\t@touchstart.stop=\"(e)=>{\n\t\t\t\te.preventDefault();\n\t\t\t\ttouchEvent(e.changedTouches[0].x, e.changedTouches[0].y);\n\t\t\t}\" \n\t\t\t@touchmove.stop=\"(e)=>{\n\t\t\t\te.preventDefault();\n\t\t\t\ttouchEvent(e.changedTouches[0].x, e.changedTouches[0].y);\n\t\t\t}\" \n\t\t\t@touchend.stop=\"(e)=>{\n\t\t\t\te.preventDefault();\n\t\t\t\ttouchend();\n\t\t\t}\"\n\t\t></canvas>\n\t</view>\n</template>\n\n<script>\n\timport { selectFrom, powAndSqrt, throttle } from '@/utils/methods.js';\n\timport { fillRoundRect } from './methods.js';\n\timport { bg1 } from '../../static/backImages/bg.js';\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t  imageURL: bg1,\n\t\t\t  isPortrait: false, // 是否横屏\n\t\t\t  windowWidth: 750,\n\t\t\t  windowHeight: 750,\n\t\t\t  totalWid: 75,\n\t\t\t  \n\t\t\t  pauseOrRun: true, // 暂停或者运行\n\t\t\t  timer: 0, // 3秒倒计时\n\t\t\t  clock: 0, // 渲染周期\n\t\t\t  ctx: 0, // 画布\n\t\t\t  \n\t\t\t  gameOverOverlay: false, // 游戏结束遮罩\n\t\t\t  showOverlay: true, // 游戏开始遮罩\n\t\t\t  stopText: -1, //开始倒计时文案\n\t\t\t  \n\t\t\t  // 杀敌数量\n\t\t\t  killCount: 0,\n\t\t\t  // 人物属性\n\t\t\t  heroObj: {\n\t\t\t\turl: '/static/hero/hero2.png',\n\t\t\t\trate: 0, // 旋转度数\n\t\t\t\tx: 0,\n\t\t\t\ty: 0,\n\t\t\t\tw: 10,\n\t\t\t\th: 10,\n\t\t\t\tspeed: 4, // 英雄移动速度\n\t\t\t\tattackSpeed: 1, // 攻速\n\t\t\t\tattackLength: 1, // 攻击距离\n\t\t\t\tbloodPercent: 100, // 当前血条\n\t\t\t\ttotalblood: 100, // 总血条\n\t\t\t\tlucky: 1, // 幸运值\n\t\t\t\tarms: 3, // 武器数量\n\t\t\t  },\n\t\t\t  // 怪物属性\n\t\t\t  monster: [],\n\t\t\t  // 武器属性\n\t\t\t  arms: [\n\t\t\t  \t{url: '/static/arms/arms1.png', hUrl: '/static/photon/p1.png', time: 60, type: 1},\n\t\t\t  \t{url: '/static/arms/arms2.png', hUrl: '/static/photon/p1.png', time: 50, type: 1},\n\t\t\t\t{url: '/static/arms/arms3.png', hUrl: '/static/photon/p1.png', time: 40, type: 1},\n\t\t\t\t{url: '/static/arms/arms4.png', hUrl: '/static/photon/p1.png', time: 30, type: 1},\n\t\t\t\t{url: '/static/arms/arms5.png', hUrl: '/static/photon/p1.png', time: 20, type: 1},\n\t\t\t\t{url: '/static/arms/arms6.png', hUrl: '/static/photon/p1.png', time: 10, type: 1},\n\t\t\t  ],\n\t\t\t  // 子弹列表\n\t\t\t  hList: [], // {x,y,w,h,speed,toX,toY}\n\t\t\t  bloodPack: [], // 回血包列表\n\t\t\t  attackSpeedList: [], // 攻速包列表\n\t\t\t  innerAudioContextHeart: 0, // 血条低于25时的心动声音\n\t\t\t  \n\t\t\t  // 键盘属性(控制人物移动方向)\n\t\t\t  top: 0, // 上下\n\t\t\t  bottom: 0, // 上下\n\t\t\t  left: 0, // 左右\n\t\t\t  top: 0, // 左右\n\t\t\t  keyControl: 0, // 空格键\n\t\t\t  // 模拟手柄\n\t\t\t  handleCenterX: 0, // 手柄中心\n\t\t\t  handleCenterY: 0,\n\t\t\t  touchX: 0, // 当前用户手中心\n\t\t\t  touchY: 0,\n\t\t\t}\n\t\t},\n\t\twatch: {\n\t\t\t// 监听暂停或者开始\n\t\t    pauseOrRun(newValue, oldValue) {\n\t\t      this.pauseOrRunFunc(newValue);\n\t\t    },\n\t\t\t// 监听血条\n\t\t\t'heroObj.bloodPercent'(newValue, oldValue) {\n\t\t\t\t// 创建内部音频上下文\n\t\t\t\tif (this.innerAudioContextHeart === 0) {\n\t\t\t\t\tthis.innerAudioContextHeart = uni.createInnerAudioContext();\n\t\t\t\t\tthis.innerAudioContextHeart.src = '/static/sound/heart.mp3';\n\t\t\t\t\tthis.innerAudioContextHeart.loop = true // 循环\n\t\t\t\t}\n\t\t\t\tif (newValue <= this.heroObj.totalblood / 4 && newValue > 0) {\n\t\t\t\t\t// 播放音频\n\t\t\t\t\tthis.innerAudioContextHeart.play();\n\t\t\t\t} else {\n\t\t\t\t\tthis.innerAudioContextHeart.pause();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 游戏结束\n\t\t\t\tif (newValue === 0) {\n\t\t\t\t\tthis.gameOverFunc();\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t\tcomputed: {\n\t\t\t// 血条长度\n\t\t\tbarWidth() {\n\t\t\t\treturn `${this.heroObj.bloodPercent / this.heroObj.totalblood * 100}%`;\n\t\t\t},\n\t\t\t// 血条颜色\n\t\t\tbarColor() {\n\t\t\t\tlet color = 'rgba(0, 152, 0, 1.0)';\n\t\t\t\tif (this.heroObj.bloodPercent <= this.heroObj.totalblood / 4) {\n\t\t\t\t\tcolor = 'rgba(248, 76, 62, 1.0)';\n\t\t\t\t} else {\n\t\t\t\t\tcolor = 'rgba(0, 152, 0, 1.0)';\n\t\t\t\t}\n\t\t\t\treturn color;\n\t\t\t},\n\t\t\t// 摇杆直径\n\t\t\trocketWidth() {\n\t\t\t\treturn `${this.totalWid / 3 / this.windowWidth * 100}%`;\n\t\t\t},\n\t\t\trocketHeight() {\n\t\t\t\treturn `${this.totalWid / 3 / this.windowHeight * 100}%`;\n\t\t\t},\n\t\t\t// 摇杆位置\n\t\t\trocketTop() {\n\t\t\t\treturn `${(this.handleCenterY - this.totalWid / 6) / this.windowHeight * 100}%`;\n\t\t\t},\n\t\t\trocketLeft() {\n\t\t\t\treturn `${(this.handleCenterX - this.totalWid / 6) / this.windowWidth * 100}%`;\n\t\t\t},\n\t\t\t\n\t\t\t// 摇杆中心圈的直径\n\t\t\trocketCenterWidth() {\n\t\t\t\treturn `${this.totalWid / 6 / this.windowWidth * 100}%`;\n\t\t\t},\n\t\t\trocketCenterHeight() {\n\t\t\t\treturn `${this.totalWid / 6 / this.windowHeight * 100}%`;\n\t\t\t},\n\t\t\t// 摇杆中心圈的摇杆位置\n\t\t\trocketCenterTop() {\n\t\t\t\tlet trueY = this.touchY;\n\t\t\t\tif (this.touchY - this.handleCenterY < -this.totalWid / 6) trueY = this.handleCenterY - this.totalWid / 6;\n\t\t\t\tif (this.touchY - this.handleCenterY > this.totalWid / 6) trueY = this.handleCenterY + this.totalWid / 6;\n\t\t\t\treturn `${(trueY - this.totalWid / 12) / this.windowHeight * 100}%`;\n\t\t\t},\n\t\t\trocketCenterLeft() {\n\t\t\t\tlet trueX = this.touchX;\n\t\t\t\tif (this.touchX - this.handleCenterX < -this.totalWid / 6) trueX = this.handleCenterX - this.totalWid / 6;\n\t\t\t\tif (this.touchX - this.handleCenterX > this.totalWid / 6) trueX = this.handleCenterX + this.totalWid / 6;\n\t\t\t\treturn `${(trueX - this.totalWid / 12) / this.windowWidth * 100}%`;\n\t\t\t},\n\t\t},\n\t\tonLoad() {\n\t\t\t// 监听横屏竖屏\n\t\t   //  uni.onWindowResize((res) => {\n\t\t   //    this.isPortrait = res.size.windowWidth > res.size.windowHeight;\n\n\t\t\t  // // if (res.size.windowWidth > res.size.windowHeight) {\n\t\t\t  // // \t// 横屏\n\t\t\t  // // \tconsole.log('landscape横屏');\n\t\t\t  // // } else {\n\t\t\t  // // \t// 竖屏\n\t\t\t  // // \tconsole.log('portrait竖屏');\n\t\t\t  // // }\n\t\t\t  // this.windowWidth = res.size.windowWidth;\n\t\t\t  // this.windowHeight = res.size.windowHeight;\n\t\t\t  \n\t\t\t  // const wid = Math.min(res.size.windowWidth, res.size.windowHeight) / 10;\n\t\t\t  // // console.log('宽高', res.size.windowWidth, res.size.windowHeight, wid);\n\t\t\t  // this.heroObj.w = wid;\n\t\t\t  // this.heroObj.h = wid;\n\t\t\t  // this.heroObj.x = res.size.windowWidth / 2 - wid/2;\n\t\t\t  // this.heroObj.y = res.size.windowHeight / 2 - wid/2;\n\t\t\t  \n\t\t\t  // this.draw();\n\t\t   //  })\n\t\t   \n\t\t   //在目的页面读取并销毁\n\t\t   var checkHero = JSON.parse(uni.getStorageSync(\"checkHero\"));\n\t\t   // console.log('1data111', checkHero)\n\t\t   uni.removeStorage(\"checkHero\")\n\t\t   this.heroObj = {...this.heroObj, ...checkHero}\n\t\t},\n\t\t\n\t\tonReady() {\n\t\t\tthis.ctx = uni.createCanvasContext('myCanvas', this);\n\t\t\tlet that = this;\n\t\t\t// 获取屏幕宽高\n\t\t\tuni.getSystemInfo({\n\t\t\t    success: function (res) {\n\t\t\t\t\tconsole.log('22222', res);\n\t\t\t\t\t// 设置屏幕宽高\n\t\t\t\t\tthat.windowWidth = res.windowWidth;\n\t\t\t\t\tthat.windowHeight = res.windowHeight;\n\t\t\t\t\t\n\t\t\t\t\t// 设置英雄属性\n\t\t\t\t\tthat.totalWid = Math.min(res.windowWidth, res.windowHeight);\n\t\t\t\t\tconst wid = Math.min(res.windowWidth, res.windowHeight) / 10;\n\t\t\t\t\tthat.heroObj.w = wid;\n\t\t\t\t\tthat.heroObj.h = wid;\n\t\t\t\t\tthat.heroObj.x = res.windowWidth / 2 - wid/2;\n\t\t\t\t\tthat.heroObj.y = res.windowHeight / 2 - wid/2;\n\t\t\t\t\t\n\t\t\t\t\tthat.createArms(); // 生成武器\n\t\t\t\t\tthat.createMonster(10); // 生成怪物\n\t\t\t\t\tthat.createBloodPack(1 * that.heroObj.lucky); // 生成血包\n\t\t\t\t\tthat.createAttackSpeedList(1 * that.heroObj.lucky); // 生成攻速包\n\t\t\t\t\t// 监听键盘输入\n\t\t\t\t\t// that.liskeydown();\n\t\t\t\t\t// 初始化手柄位置\n\t\t\t\t\t// console.log('11res.windowHeight', res.windowHeight)\n\t\t\t\t\tthat.handleCenterX = wid * 3.5;\n\t\t\t\t\tthat.handleCenterY = res.windowHeight - wid * 3.5;\n\t\t\t\t\t// 初始化手位置\n\t\t\t\t\tthat.touchX = wid * 3.5;\n\t\t\t\t\tthat.touchY = res.windowHeight - wid * 3.5;\n\t\t\t\t\t\n\t\t\t\t\t// 3秒倒计时\n\t\t\t\t\tlet t = 3;\n\t\t\t\t\tthat.timer = setInterval(function(){\n\t\t\t\t\t\t\tif (t !== 0) {\n\t\t\t\t\t\t\t\tthat.stopText = t;\n\t\t\t\t\t\t\t\tthat.playAudio('/static/sound/time.mp3');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthat.stopText = '开始！'\n\t\t\t\t\t\t\t\tthat.playAudio('/static/sound/start.mp3');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tt--;\n\t\t\t\t\t\t\tif(t<0){\n\t\t\t\t\t\t\t\tif (that.timer) {\n\t\t\t\t\t\t\t\t\tclearInterval(that.timer);\n\t\t\t\t\t\t\t\t\tthat.timer = null;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthat.drawClock();\t\n\t\t\t\t\t\t\t\tthat.showOverlay = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 1000) \n\t\t\t\t\t\n\t\t\t    }\n\t\t\t});\n\n\t\t},\n\t\tonUnload() {\n\t\t\t// console.log('11111onUnload')\n\t\t\tthis.stopClock();\n\t\t},\n\t\t\n\t\tmethods: {\n\t\t\tdrawClock() {\n\t\t\t\tif (this.clock) return;\n\t\t\t\tthis.clock = setInterval(() => {\n\t\t\t\t\tthis.startDraw();\n\t\t\t\t}, 1000 / 60);\n\t\t\t},\n\t\t\tstopClock() {\n\t\t\t\t// console.log('进来了222222', this.clock)\n\t\t\t\tif (this.clock) {\n\t\t\t\t\tclearInterval(this.clock);\n\t\t\t\t\tthis.clock = null;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tstartDraw() {\n\t\t\t\t// 绘制分数\n\t\t\t\t// this.drawText(`分数：${this.killCount}`, this.windowWidth / 10, this.windowWidth / 14, \"green\", \"red\");\n\t\t\t\t// 绘制血条数值\n\t\t\t\t// this.drawText(`${this.heroObj.bloodPercent}/${100}`, this.windowWidth * 2 / 3, this.windowWidth / 14, \"red\", \"blue\");\n\t\t\t\t// 绘制人物血条\n\t\t\t\t// this.drawBloodBar(\n\t\t\t\t// \t{\n\t\t\t\t// \t\tx: this.windowWidth / 3, \n\t\t\t\t// \t\ty: this.windowWidth / 20,\n\t\t\t\t// \t\tw: this.windowWidth / 3,\n\t\t\t\t// \t\th: this.windowWidth / 30,\n\t\t\t\t// \t\tr: this.windowWidth / 60,\n\t\t\t\t// \t\tbc: 'rgba(1, 1, 1, 0.3)',\n\t\t\t\t// \t\tfc: this.heroObj.bloodPercent <= 25 ? 'rgba(250, 0, 0, 1.0)' : 'rgba(0, 238, 0, 1.0)',\n\t\t\t\t// \t\tp: this.heroObj.bloodPercent,\n\t\t\t\t// \t}\n\t\t\t\t// );\n\t\t\t\tthis.drawHreo(); // 绘制人物\n\t\t\t\tthis.drawArms(); // 绘制武器\n\t\t\t\tthis.drawMonster(); // 绘制怪物\n\t\t\t\tthis.drawBloodPack(); // 绘制血包\n\t\t\t\tthis.drawAttackSpeedList(); // 绘制闪电\n\t\t\t\tthis.createPhoton(); // 生成子弹\n\t\t\t\tthis.drawPhoton(); // 绘制子弹\n\t\t\t\tthis.ctx.draw(); // 绘制画布\n\t\t\t},\n\n\t\t\t// 绘制人物\n\t\t\tdrawHreo() {\n\t\t\t\t// console.log('11111111', this.heroObj, this.windowWidth);\n\t\t\t\tthis.heroObj.rate ++; // 修改旋转角度\n\t\t\t\tthis.controlHeroMove(); // 修改xy移动人物\n\t\t\t\tthis.rotate(this.heroObj); // 旋转人物\n\t\t\t},\n\t\t\t\n\t\t\t// 生成武器\n\t\t\tcreateArms() {\n\t\t\t\tthis.arms.splice(this.heroObj.arms); // 武器数量\n\t\t\t\tfor (let key in this.arms) {\t\t\t\n\t\t\t\t\tlet ax = this.heroObj.x + this.heroObj.w * Math.cos(key * 2*Math.PI / this.heroObj.arms);\n\t\t\t\t\tlet ay = this.heroObj.y + this.heroObj.h * Math.sin(key * 2*Math.PI / this.heroObj.arms);\n\t\t\t\t\tthis.arms[key].x = ax;\n\t\t\t\t\tthis.arms[key].y = ay;\n\t\t\t\t\tthis.arms[key].w = this.heroObj.w * 0.8;\n\t\t\t\t\tthis.arms[key].h = this.heroObj.h * 0.8;\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 绘制武器\n\t\t\tdrawArms() {\n\t\t\t\t// console.log('11111',this.arms);\n\t\t\t\t// 绘制武器\n\t\t\t\tfor (let key in this.arms) {\n\t\t\t\t\tthis.arms[key].time--; // 武器时间冷却\n\t\t\t\t\t// console.log('3333333keykey', key, this.arms[key].time);\n\t\t\t\t\tlet ax = this.heroObj.x + this.heroObj.w * Math.cos(key * 2*Math.PI / this.heroObj.arms);\n\t\t\t\t\tlet ay = this.heroObj.y + this.heroObj.h * Math.sin(key * 2*Math.PI / this.heroObj.arms);\n\t\t\t\t\tthis.arms[key].x = ax;\n\t\t\t\t\tthis.arms[key].y = ay;\n\t\t\t\t\t\n\t\t\t\t\t// 发射子弹的时候武器60度抖动\n\t\t\t\t\tlet rate = key * 60;\n\t\t\t\t\tif (this.arms[key].time <= 120 / this.heroObj.attackSpeed && this.arms[key].time >= 90 / this.heroObj.attackSpeed) {\n\t\t\t\t\t\trate = key * 60 + 60;\n\t\t\t\t\t}\n\t\t\t\t\t// 旋转武器\n\t\t\t\t\tthis.rotate({\n\t\t\t\t\t\turl: this.arms[key].url,\n\t\t\t\t\t\tx: ax,\n\t\t\t\t\t\ty: ay,\n\t\t\t\t\t\tw: this.arms[key].w,\n\t\t\t\t\t\th: this.arms[key].h,\n\t\t\t\t\t\trate: rate,\n\t\t\t\t\t});\t\t\t\t\n\t\t\t\t}\t\n\t\t\t},\n\t\t\t\n\t\t\t// 生成子弹\n\t\t\tcreatePhoton() {\n\t\t\t\t// 攻击距离\n\t\t\t\tlet hLength = this.heroObj.attackLength * this.totalWid / 3;\n\t\t\t\tlet hw = this.heroObj.w * 0.2;\n\t\t\t\tlet hh = this.heroObj.h * 0.2;\n\n\t\t\t\tfor (let mitem of this.monster) {\n\t\t\t\t\tfor (let key in this.arms) {\n\t\t\t\t\t\t// 武器位置\n\t\t\t\t\t\tlet ax = this.arms[key].x;\n\t\t\t\t\t\tlet ay = this.arms[key].y;\n\t\t\t\t\t\tlet nowLength = powAndSqrt(ax-mitem.x, ay-mitem.y); // 当前怪物和子弹距离\n\t\t\t\t\t\t// 已冷却好时间且在攻击范围内\n\t\t\t\t\t\tif (this.arms[key].time <= 0 && nowLength <= hLength) {\n\t\t\t\t\t\t\t// console.log('3333333key', key, this.arms[key].time);\n\t\t\t\t\t\t\tthis.hList.push({\n\t\t\t\t\t\t\t\turl: this.arms[key].hUrl,\n\t\t\t\t\t\t\t\tx: ax,\n\t\t\t\t\t\t\t\ty: ay,\n\t\t\t\t\t\t\t\tw: hw,\n\t\t\t\t\t\t\t\th: hh,\n\t\t\t\t\t\t\t\ttoX: ax + (mitem.x - ax) * hLength / nowLength,\n\t\t\t\t\t\t\t\ttoY: ay + (mitem.y - ay) * hLength / nowLength,\n\t\t\t\t\t\t\t\tspeed: 8,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthis.arms[key].time = 120 / this.heroObj.attackSpeed;\n\t\t\t\t\t\t\t// 播放子弹射击的声音\n\t\t\t\t\t\t\tthrottle(() => {this.playAudio('/static/sound/shot.mp3')}, 120)();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 移动子弹\n\t\t\tdrawPhoton() {\n\t\t\t\t// 移动子弹\n\t\t\t\tif (this.hList.length <= 0) return;\n\t\t\t\t// console.log('1111111', this.arms[key].hList);\n\t\t\t\tfor (let hkey in this.hList) {\n\t\t\t\t\tlet hitem = this.hList[hkey];\n\t\t\t\t\t// 向射击目标点移动\n\t\t\t\t\tlet nowX = hitem.x;\n\t\t\t\t\tlet nowY = hitem.y;\n\t\t\t\t\tlet xLength = hitem.x - hitem.toX;\n\t\t\t\t\tlet yLength = hitem.y - hitem.toY;\n\t\t\t\t\tlet xieLength = powAndSqrt(xLength, yLength); // 子弹当前位置和子弹目标位置的斜边\n\t\t\t\t\tnowX = hitem.x - hitem.speed * xLength / xieLength;\n\t\t\t\t\tnowY = hitem.y - hitem.speed * yLength / xieLength;\n\t\t\t\t\t\n\t\t\t\t\tthis.hList[hkey].x = nowX;\n\t\t\t\t\tthis.hList[hkey].y = nowY;\n\t\t\t\t\t\n\t\t\t\t\tthis.ctx.drawImage(hitem.url, hitem.x, hitem.y, hitem.w, hitem.h);\n\t\t\t\t\t\n\t\t\t\t\t// console.log('11111111', xLength, yLength, powAndSqrt(xLength, yLength))\n\t\t\t\t\t// 超出射程删除子弹\n\t\t\t\t\tif (xieLength <= hitem.speed){\n\t\t\t\t\t\tthis.hList.splice(hkey, 1);\n\t\t\t\t\t}\n\t\t\t\t\t// 子弹怪物碰撞检测\n\t\t\t\t\tfor (let mkey in this.monster) {\n\t\t\t\t\t\tlet mitem = this.monster[mkey]\n\t\t\t\t\t\tif (nowX > mitem.x && nowX < mitem.x + mitem.w && nowY > mitem.y && nowY < mitem.y + mitem.h) {\n\t\t\t\t\t\t\tthis.hList.splice(hkey, 1);\n\t\t\t\t\t\t\t// 扣血条\n\t\t\t\t\t\t\tif (mitem.bloodPercent - 10 <=0) {\n\t\t\t\t\t\t\t\tmitem.bloodPercent = 0;\n\t\t\t\t\t\t\t\tthis.monster.splice(mkey, 1);\n\t\t\t\t\t\t\t\tthis.createMonster(1);\n\t\t\t\t\t\t\t\tthis.killCount++;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tmitem.bloodPercent = mitem.bloodPercent - 10;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 生成怪物\n\t\t\tcreateMonster(n) {\n\t\t\t\tlet bloodPercent = 10;\n\t\t\t\tif (this.killCount > 50) {\n\t\t\t\t\tbloodPercent = 30;\n\t\t\t\t}\n\t\t\t\tif (this.killCount > 100) {\n\t\t\t\t\tbloodPercent = 50;\n\t\t\t\t} \n\t\t\t\tif (this.killCount > 200) {\n\t\t\t\t\tbloodPercent = 80;\n\t\t\t\t} \n\t\t\t\tif (this.killCount > 300) {\n\t\t\t\t\tbloodPercent = 120;\n\t\t\t\t} \n\t\t\t\tif (this.killCount > 400) {\n\t\t\t\t\tbloodPercent = 160;\n\t\t\t\t} \n\t\t\t\tif (this.killCount > 500) {\n\t\t\t\t\tbloodPercent = 200;\n\t\t\t\t} \n\t\t\t\tif (this.killCount > 600) {\n\t\t\t\t\tbloodPercent = 250;\n\t\t\t\t} \n\t\t\t\tif (this.killCount > 700) {\n\t\t\t\t\tbloodPercent = 300;\n\t\t\t\t} \n\t\t\t\tif (this.killCount > 800) {\n\t\t\t\t\tbloodPercent = 350;\n\t\t\t\t} \n\t\t\t\tif (this.killCount > 900) {\n\t\t\t\t\tbloodPercent = 400;\n\t\t\t\t} \n\t\t\t\tif (this.killCount > 1000) {\n\t\t\t\t\tbloodPercent = 500;\n\t\t\t\t} \n\t\t\t\tfor (let i = 0; i < n; i++) {\n\t\t\t\t\tthis.monster.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\turl: `/static/monster/m${selectFrom(1,6)}.png`,\n\t\t\t\t\t\t\tx: this.windowWidth * selectFrom(5,95) / 100,\n\t\t\t\t\t\t\ty: this.windowHeight * selectFrom(5,95) / 100,\n\t\t\t\t\t\t\tw: this.heroObj.w * 0.8,\n\t\t\t\t\t\t\th: this.heroObj.h * 0.8,\n\t\t\t\t\t\t\trate: 0, // 旋转角度\n\t\t\t\t\t\t\tlr: 1, // 旋转方向\n\t\t\t\t\t\t\tspeed: 1, // 速度\n\t\t\t\t\t\t\tbloodPercent: bloodPercent, // 当前血条\n\t\t\t\t\t\t\ttotalblood: bloodPercent, // 总血条\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 绘制怪物\n\t\t\tdrawMonster() {\n\t\t\t\tfor (let key in this.monster) {\n\t\t\t\t\t// 怪物向英雄靠近\n\t\t\t\t\tlet nowX = this.monster[key].x;\n\t\t\t\t\tlet nowY = this.monster[key].y;\n\t\t\t\t\tlet xLength = this.heroObj.x - this.monster[key].x;\n\t\t\t\t\tlet yLength = this.heroObj.y - this.monster[key].y;\n\t\t\t\t\tlet xieLength = powAndSqrt(xLength, yLength); // 怪物和人物的斜边\n\t\t\t\t\t\n\t\t\t\t\t// 向人物靠近\n\t\t\t\t\tnowX = nowX + this.monster[key].speed * xLength / xieLength;\n\t\t\t\t\tnowY = nowY + this.monster[key].speed * yLength / xieLength;\n\t\t\t\t\t\n\t\t\t\t\tthis.monster[key].x = nowX;\n\t\t\t\t\tthis.monster[key].y = nowY;\n\t\t\t\t\t// 旋转怪物并绘制怪物\n\t\t\t\t\tif (this.monster[key].rate >= 15) this.monster[key].lr = -1;\n\t\t\t\t\tif (this.monster[key].rate <= -15) this.monster[key].lr = 1;\n\t\t\t\t\tthis.monster[key].rate +=this.monster[key].lr;\n\t\t\t\t\tthis.rotate({\n\t\t\t\t\t\turl: this.monster[key].url,\n\t\t\t\t\t\tx: nowX,\n\t\t\t\t\t\ty: nowY,\n\t\t\t\t\t\tw: this.monster[key].w,\n\t\t\t\t\t\th: this.monster[key].h,\n\t\t\t\t\t\trate: this.monster[key].rate,\n\t\t\t\t\t});\n\t\t\t\t\t// 绘制怪物血条\n\t\t\t\t\tthis.drawBloodBar(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tx: nowX - 5,\n\t\t\t\t\t\t\ty: nowY - 5,\n\t\t\t\t\t\t\tw: this.monster[key].w + 10,\n\t\t\t\t\t\t\th: this.monster[key].h / 8,\n\t\t\t\t\t\t\t// r: 0,\n\t\t\t\t\t\t\tbc: 'rgba(1, 1, 1, 0.3)',\n\t\t\t\t\t\t\tfc: 'rgba(250, 0, 0, 1.0)',\n\t\t\t\t\t\t\tp: this.monster[key].bloodPercent / this.monster[key].totalblood,\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\t\n\t\t\t\t\t// console.log('111111111111', nowX, this.heroObj.x + this.heroObj.w/2)\n\t\t\t\t\t// 碰到英雄以后删除怪物，并且重新生成怪物\n\t\t\t\t\tif ((nowX <= this.heroObj.x + this.heroObj.w/2 && nowX >= this.heroObj.x - this.heroObj.w/2)\n\t\t\t\t\t    &&\n\t\t\t\t\t   (nowY <= this.heroObj.y + this.heroObj.h/2 && nowY >= this.heroObj.y - this.heroObj.h/2)) {\n\t\t\t\t\t\t // 播放扣血的声音\n\t\t\t\t\t\t this.playAudio('/static/sound/blood.mp3');\n\t\t\t\t\t\t // 扣血条\n\t\t\t\t\t\t if (this.heroObj.bloodPercent - 10 <=0) {\n\t\t\t\t\t\t\tthis.heroObj.bloodPercent = 0;\n\t\t\t\t\t\t } else {\n\t\t\t\t\t\t\tthis.heroObj.bloodPercent = this.heroObj.bloodPercent - 10;\n\t\t\t\t\t\t }\n\t\t\t\t\t\t // 删除怪物\n\t\t\t\t\t\t this.monster.splice(key,1);\n\t\t\t\t\t\t this.createMonster(1);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// 生成回血包\n\t\t\tcreateBloodPack(n) {\n\t\t\t\tfor (let i = 0; i < n; i++) {\n\t\t\t\t\tthis.bloodPack.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\turl: '/static/tool/leaf.png',\n\t\t\t\t\t\t\tx: this.windowWidth * selectFrom(5,95) / 100,\n\t\t\t\t\t\t\ty: this.windowHeight * selectFrom(5,95) / 100,\n\t\t\t\t\t\t\tw: this.heroObj.w * 0.8,\n\t\t\t\t\t\t\th: this.heroObj.h * 0.8,\n\t\t\t\t\t\t\trate: 0, // 旋转角度\n\t\t\t\t\t\t\tlr: 1, // 旋转方向\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 绘制血包\n\t\t\tdrawBloodPack() {\n\t\t\t\tfor (let key in this.bloodPack) {\n\t\t\t\t\t// 旋转血包并绘制血包\n\t\t\t\t\tif (this.bloodPack[key].rate >= 15) this.bloodPack[key].lr = -1;\n\t\t\t\t\tif (this.bloodPack[key].rate <= -15) this.bloodPack[key].lr = 1;\n\t\t\t\t\tthis.bloodPack[key].rate +=this.bloodPack[key].lr;\n\t\t\t\t\tthis.rotate({\n\t\t\t\t\t\turl: this.bloodPack[key].url,\n\t\t\t\t\t\tx: this.bloodPack[key].x,\n\t\t\t\t\t\ty: this.bloodPack[key].y,\n\t\t\t\t\t\tw: this.bloodPack[key].w,\n\t\t\t\t\t\th: this.bloodPack[key].h,\n\t\t\t\t\t\trate: this.bloodPack[key].rate,\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t// console.log('111111111111', nowX, this.heroObj.x + this.heroObj.w/2)\n\t\t\t\t\t// 碰到英雄以后删除血包，并且重新生成血包\n\t\t\t\t\tif ((this.bloodPack[key].x <= this.heroObj.x + this.heroObj.w/2 && this.bloodPack[key].x >= this.heroObj.x - this.heroObj.w/2)\n\t\t\t\t\t    &&\n\t\t\t\t\t   (this.bloodPack[key].y <= this.heroObj.y + this.heroObj.h/2 && this.bloodPack[key].y >= this.heroObj.y - this.heroObj.h/2)) {\n\t\t\t\t\t\t // 回血的声音\n\t\t\t\t\t\t this.playAudio('/static/sound/leaf.mp3');\n\t\t\t\t\t\t // 回血条\n\t\t\t\t\t\t if (this.heroObj.bloodPercent + 10 >= this.heroObj.totalblood) {\n\t\t\t\t\t\t\tthis.heroObj.bloodPercent = this.heroObj.totalblood;\n\t\t\t\t\t\t } else {\n\t\t\t\t\t\t\tthis.heroObj.bloodPercent = this.heroObj.bloodPercent + 10;\n\t\t\t\t\t\t }\n\t\t\t\t\t\t // 删除血包\n\t\t\t\t\t\t this.bloodPack.splice(key,1);\n\t\t\t\t\t\t setTimeout(() => {\n\t\t\t\t\t\t\tthis.createBloodPack(1); \n\t\t\t\t\t\t }, 1000)\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 生成闪电攻速包\n\t\t\tcreateAttackSpeedList(n) {\n\t\t\t\tfor (let i = 0; i < n; i++) {\n\t\t\t\t\tthis.attackSpeedList.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\turl: '/static/tool/light.png',\n\t\t\t\t\t\t\tx: this.windowWidth * selectFrom(5,95) / 100,\n\t\t\t\t\t\t\ty: this.windowHeight * selectFrom(5,95) / 100,\n\t\t\t\t\t\t\tw: this.heroObj.w * 0.8,\n\t\t\t\t\t\t\th: this.heroObj.h * 0.8,\n\t\t\t\t\t\t\trate: 0, // 旋转角度\n\t\t\t\t\t\t\tlr: 1, // 旋转方向\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 绘制闪电\n\t\t\tdrawAttackSpeedList() {\n\t\t\t\tfor (let key in this.attackSpeedList) {\n\t\t\t\t\t// 旋转并绘制\n\t\t\t\t\tif (this.attackSpeedList[key].rate >= 15) this.attackSpeedList[key].lr = -1;\n\t\t\t\t\tif (this.attackSpeedList[key].rate <= -15) this.attackSpeedList[key].lr = 1;\n\t\t\t\t\tthis.attackSpeedList[key].rate +=this.attackSpeedList[key].lr;\n\t\t\t\t\tthis.rotate({\n\t\t\t\t\t\turl: this.attackSpeedList[key].url,\n\t\t\t\t\t\tx: this.attackSpeedList[key].x,\n\t\t\t\t\t\ty: this.attackSpeedList[key].y,\n\t\t\t\t\t\tw: this.attackSpeedList[key].w,\n\t\t\t\t\t\th: this.attackSpeedList[key].h,\n\t\t\t\t\t\trate: this.attackSpeedList[key].rate,\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t// console.log('111111111111', nowX, this.heroObj.x + this.heroObj.w/2)\n\t\t\t\t\t// 碰到英雄以后删除，并且重新生成\n\t\t\t\t\tif ((this.attackSpeedList[key].x <= this.heroObj.x + this.heroObj.w/2 && this.attackSpeedList[key].x >= this.heroObj.x - this.heroObj.w/2)\n\t\t\t\t\t    &&\n\t\t\t\t\t   (this.attackSpeedList[key].y <= this.heroObj.y + this.heroObj.h/2 && this.attackSpeedList[key].y >= this.heroObj.y - this.heroObj.h/2)) {\n\t\t\t\t\t\t // 回血的声音\n\t\t\t\t\t\t this.playAudio('/static/sound/leaf.mp3');\n\t\t\t\t\t\t // 增加攻速\n\t\t\t\t\t\t this.heroObj.attackSpeed = this.heroObj.attackSpeed + 0.2;\n\t\t\t\t\t\t // 删除闪电并生成\n\t\t\t\t\t\t this.attackSpeedList.splice(key,1);\n\t\t\t\t\t\t setTimeout(() => {\n\t\t\t\t\t\t \tthis.createAttackSpeedList(1);\n\t\t\t\t\t\t }, 1000)\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t},\n\t\t\t// ========================================================\n\t\t\t// ========================================================\n\t\t\t// ========================================================\n\t\t\t// 旋转图片\n\t\t\trotate(imgObj) {\n\t\t\t\tthis.ctx.save();\n\t\t\t\t\n\t\t\t\tconst centerX = imgObj.x + imgObj.w/2;\n\t\t\t\tconst centerY = imgObj.y + imgObj.h/2;\n\t\t\t\tthis.ctx.translate(centerX, centerY);\n\t\t\t\tif (imgObj.rate) this.ctx.rotate(Math.PI * imgObj.rate / 180);\n\t\t\t\tthis.ctx.translate(-centerX, -centerY);\n\t\t\t\t// 绘制图片\n\t\t\t\tthis.ctx.drawImage(imgObj.url, imgObj.x, imgObj.y, imgObj.w, imgObj.h);\n\t\t\t\t\n\t\t\t\tthis.ctx.restore();\n\t\t\t},\n\t\t\t// 绘制血条\n\t\t\tdrawBloodBar(barObj) {\n\t\t\t\t/*填充矩形方法：fillRect(x,y,w,h)*/\n\t\t\t\tthis.ctx.fillStyle = barObj.bc;\n\t\t\t\tthis.ctx.fillRect(\n\t\t\t\t\tbarObj.x,barObj.y,\n\t\t\t\t\tbarObj.w,barObj.h\n\t\t\t\t);\n\t\t\t\tthis.ctx.fillStyle = barObj.fc;\n\t\t\t\tthis.ctx.fillRect(\n\t\t\t\t\tbarObj.x,barObj.y,\n\t\t\t\t\t barObj.w * barObj.p,barObj.h\n\t\t\t\t);\n\n\t\t\t\t// fillRoundRect(this.ctx, barObj.x, barObj.y, barObj.w, barObj.h, barObj.r, barObj.bc);\n\t\t\t\t// fillRoundRect(this.ctx, barObj.x, barObj.y, barObj.w * barObj.p, barObj.h, barObj.r, barObj.fc);\n\t\t\t},\n\t\t\t// 绘制文字\n\t\t\tdrawText(text, x, y, lColor,rColor) {\n\t\t\t\tlet gradient = this.ctx.createLinearGradient(x,y,200,0);\n\t\t\t\tgradient.addColorStop(0,lColor);\n\t\t\t\tgradient.addColorStop(1,rColor);\n\t\t\t\tthis.ctx.fillStyle = gradient\n\t\t\t\tthis.ctx.font = \"24px Microsoft YaHei\"\n\t\t\t\tthis.ctx.fillText(text,x,y);\n\t\t\t},\n\t\t\t// 暂停或者执行\n\t\t\tpauseOrRunFunc(inPauseOrRun) {\n\t\t\t\tconsole.log('进来了111', inPauseOrRun)\n\t\t\t\tif (inPauseOrRun) {\n\t\t\t\t\tthis.drawClock();\n\t\t\t\t} else {\n\t\t\t\t\tthis.stopClock();\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 返回首页\n\t\t\ttoGameHome() {\n\t\t\t\tuni.navigateBack({\n\t\t\t\t    delta: 1\n\t\t\t\t});\n\t\t\t},\n\t\t\t// 播放声音\n\t\t\tplayAudio(url) {\n\t\t\t  // // 播放音频(h5端)\n\t\t\t  // let audio = new Audio(url);\n\t\t\t  // audio.play();\n\t\t\t  \n\t\t\t\t// 创建内部音频上下文\n\t\t\t\tconst innerAudioContext = uni.createInnerAudioContext();\n\t\t\t\tinnerAudioContext.src = url;\n\t\t\t\t// 播放音频\n\t\t\t\tinnerAudioContext.play();\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tinnerAudioContext.destroy();\n\t\t\t\t}, 5000)\n\t\t\t},\n\t\t\t\n\t\t\t\n\t\t\t// 监听键盘wsad方法\n\t\t\tliskeydown() {\n\t\t\t\tlet that = this;\n\t\t\t\tdocument.addEventListener(\"keydown\",function(e){\n\t\t\t\t    // console.log(\"您按下的按钮的keyCode为：\"+e.keyCode);\n\t\t\t\t\tif (e.keyCode == 38 || e.keyCode == 87) {\n\t\t\t\t\t\t// 执行向上移动的方法\n\t\t\t\t\t\tthat.top = 1;\n\t\t\t\t\t} else if (e.keyCode == 40 || e.keyCode == 83) {\n\t\t\t\t\t\t// 执行向下移动的方法\n\t\t\t\t\t\tthat.bottom = 1;\n\t\t\t\t\t} else if (e.keyCode == 37 || e.keyCode == 65) {\n\t\t\t\t\t\t// 执行向左移动的方法\n\t\t\t\t\t\tthat.left = 1;\n\t\t\t\t\t} else if (e.keyCode == 39 || e.keyCode == 68) {\n\t\t\t\t\t\t// 执行向右移动的方法\n\t\t\t\t\t\tthat.right = 1;\n\t\t\t\t\t} else if (e.keyCode == 32) {\n\t\t\t\t\t\t// 空格点击\n\t\t\t\t\t\tthat.keyControl = 1;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tdocument.addEventListener(\"keyup\",function(e){\n\t\t\t\t\t// console.log(\"1111的keyCode为：\"+e.keyCode);\n\t\t\t\t\tif (e.keyCode == 38 || e.keyCode == 87) {\n\t\t\t\t\t\t// 执行向上移动的方法\n\t\t\t\t\t\tthat.top = 0;\n\t\t\t\t\t} else if (e.keyCode == 40 || e.keyCode == 83) {\n\t\t\t\t\t\t// 执行向下移动的方法\n\t\t\t\t\t\tthat.bottom = 0;\n\t\t\t\t\t} else if (e.keyCode == 37 || e.keyCode == 65) {\n\t\t\t\t\t\t// 执行向左移动的方法\n\t\t\t\t\t\tthat.left = 0;\n\t\t\t\t\t} else if (e.keyCode == 39 || e.keyCode == 68) {\n\t\t\t\t\t\t// 执行向右移动的方法\n\t\t\t\t\t\tthat.right = 0;\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t},\n\t\t\t// 控制人物移动 \n\t\t\tcontrolHeroMove() {\n\t\t\t\tlet trueMoveSpeed = this.heroObj.speed;\n\t\t\t\t// 如果点了空格键就加速跳跃\n\t\t\t\tif (this.keyControl === 1) {\n\t\t\t\t\ttrueMoveSpeed = this.heroObj.speed * 30;\n\t\t\t\t\tthis.keyControl = 0;\n\t\t\t\t}\n\t\t\t\t// 如果有键盘事件就移动\n\t\t\t\tif (this.top > 0) {\n\t\t\t\t\tif (this.heroObj.y - trueMoveSpeed * this.top > 0) {\n\t\t\t\t\t\tthis.heroObj.y = this.heroObj.y - trueMoveSpeed * this.top;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.heroObj.y = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.bottom > 0) {\n\t\t\t\t\tif (this.heroObj.y + trueMoveSpeed * this.bottom < this.windowHeight - this.heroObj.h) {\n\t\t\t\t\t\tthis.heroObj.y = this.heroObj.y + trueMoveSpeed * this.bottom;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.heroObj.y = this.windowHeight - this.heroObj.h;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.left > 0) {\n\t\t\t\t\tif (this.heroObj.x - trueMoveSpeed * this.left > 0) {\n\t\t\t\t\t\tthis.heroObj.x = this.heroObj.x - trueMoveSpeed * this.left;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.heroObj.x = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (this.right > 0) {\n\t\t\t\t\tif (this.heroObj.x + trueMoveSpeed * this.right < this.windowWidth - this.heroObj.w) {\n\t\t\t\t\t\tthis.heroObj.x = this.heroObj.x + trueMoveSpeed * this.right;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.heroObj.x = this.windowWidth - this.heroObj.w;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\t\n\t\t\ttouchEvent(x,y) {\n\t\t\t\t// console.log('111111111', x, y, this.handleCenterX, this.handleCenterY)\n\t\t\t\t// 保存当前手指位置\n\t\t\t\tthis.touchX = x;\n\t\t\t\tthis.touchY = y;\n\t\t\t\t// 触点和原点距离\n\t\t\t\tconst xieLength = powAndSqrt(this.handleCenterX - x, this.handleCenterY - y);\n\t\t\t\t// console.log('1111xieLength', this.handleCenterX - x, this.handleCenterY - y, xieLength)\n\t\t\t\t// 在手柄内时速度按长度计算\n\t\t\t\tconst hadW = this.totalWid / 6; // 手柄半径\n\t\t\t\tconst touchSpeed = Math.min(hadW, xieLength) / hadW;\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tif (this.handleCenterY > y) {\n\t\t\t\t\t// 执行向上移动的方法\n\t\t\t\t\tthis.top = (this.handleCenterY - y) * touchSpeed / xieLength;\n\t\t\t\t\tthis.bottom = 0;\n\t\t\t\t} else if (this.handleCenterY < y) {\n\t\t\t\t\t// 执行向下移动的方法\n\t\t\t\t\tthis.bottom = (y - this.handleCenterY) * touchSpeed / xieLength;\n\t\t\t\t\tthis.top = 0;\n\t\t\t\t} else {\n\t\t\t\t\tthis.top = 0;\n\t\t\t\t\tthis.bottom = 0;\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tif (this.handleCenterX > x) {\n\t\t\t\t\t// 执行向左移动的方法\n\t\t\t\t\tthis.left = (this.handleCenterX - x) * touchSpeed / xieLength;\n\t\t\t\t\tthis.right = 0;\n\t\t\t\t} else if (this.handleCenterX < x) {\n\t\t\t\t\t// 执行向右移动的方法\n\t\t\t\t\tthis.right = (x - this.handleCenterX) * touchSpeed / xieLength;\n\t\t\t\t\tthis.left = 0;\n\t\t\t\t} else {\n\t\t\t\t\tthis.left = 0;\n\t\t\t\t\tthis.right = 0;\n\t\t\t\t}\n\t\t\t},\n\t\t\ttouchend(e) {\n\t\t\t\tthis.touchX = this.handleCenterX;\n\t\t\t\tthis.touchY = this.handleCenterY;\n\t\t\t\tthis.top = 0;\n\t\t\t\tthis.bottom = 0;\n\t\t\t\tthis.left = 0;\n\t\t\t\tthis.right = 0;\n\t\t\t},\n\t\t\t\n\t\t\t// 游戏结束\n\t\t\tgameOverFunc() {\n\t\t\t\t// 游戏结束\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.pauseOrRun = false;\n\t\t\t\t\tthis.gameOverOverlay = true;\n\t\t\t\t\tthis.innerAudioContextHeart.stop();\n\t\t\t\t\tthis.playAudio('/static/sound/gameOver.mp3');\n\t\t\t\t}, 100)\n\t\t\t},\n\t\t},\n\t\t\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t#myCanvas {\n\t\twidth: 100vw;\n\t\theight: 100vh;\n\t\toutline:none;\n\t\t// background-image: url('/static/backImages/bg2.png'); //这里将图片路径替换成你的图片路径\n\t\tbackground-size: cover; // 背景图片等比例缩放并铺满整个页面\n\t\tbackground-repeat: no-repeat; // 不重复平铺背景图片\n\t\tbackground-position: center center; // 背景图片居中显示\n\t}\n\t.contentShadow {\n\t\tbox-shadow: inset 0px 0px 16px 0px rgba(255, 0, 0, 1.0);\n\t}\n\t.content {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\toverflow: hidden;\n\t\tposition: relative;\n\t\t.warp {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tflex-direction: column;\n\t\t\tjustify-content: center;\n\t\t\theight: 100%;\n\t\t\twidth: 100%;\n\t\t\t.startText {\n\t\t\t\tfont-family: \"Arial\", sans-serif;\n\t\t\t\tfont-size: 36px;\n\t\t\t\tbackground-image: linear-gradient(120deg, #f6d365 0%, #fda085 100%);\n\t\t\t\t-webkit-background-clip: text;\n\t\t\t\tcolor: transparent;\n\t\t\t\tfont-weight: bold;\n\t\t\t}\n\t\t\t.startNum {\n\t\t\t\tmargin-top: 20px;\n\t\t\t\tfont-family: \"Arial\", sans-serif;\n\t\t\t\tfont-size: 50px;\n\t\t\t\tbackground-image: linear-gradient(to right, #ff8177 0%, #ff867a 0%, #ff8c7f 21%, #f99185 52%, #cf556c 78%, #b12a5b 100%);\n\t\t\t\t-webkit-background-clip: text;\n\t\t\t\tcolor: transparent;\n\t\t\t\tfont-weight: bold;\n\t\t\t}\n\t\t\t.endNum {\n\t\t\t\tmargin-top: 20px;\n\t\t\t\tfont-family: \"Arial\", sans-serif;\n\t\t\t\tfont-size: 50px;\n\t\t\t\tbackground-image: linear-gradient(to right, #ff8177 0%, #ff867a 0%, #ff8c7f 21%, #f99185 52%, #cf556c 78%, #b12a5b 100%);\n\t\t\t\t-webkit-background-clip: text;\n\t\t\t\tcolor: transparent;\n\t\t\t\tfont-weight: bold;\n\t\t\t}\n\t\t\t.toGameHome {\n\t\t\t\twidth: 50vw;\n\t\t\t\theight: 10vw;\n\t\t\t}\n\t\t}\n\t}\n\t.topBar {\n\t\twidth: 100%;\n\t\tposition: absolute;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-around;\n\t\ttop: 4vw;\n\t\tz-index: 1;\n\t\t.killCount {\n\t\t\tfont-family: \"Arial\", sans-serif;\n\t\t\tfont-size: 26px;\n\t\t\tbackground-image: linear-gradient(to right, #6a11cb 0%, #2575fc 100%);\n\t\t\t-webkit-background-clip: text;\n\t\t\tcolor: transparent;\n\t\t\tfont-weight: bold;\n\t\t}\n\t\t.bloodPercent {\n\t\t\twidth: 40vw;\n\t\t\theight: 3.6vw;\n\t\t\tborder-radius: 1.8vw;\n\t\t\tbackground-color: rgba(1, 1, 1, 0.3);\n\t\t\t.bloodPercentContent {\n\t\t\t\theight: 3.6vw;\n\t\t\t\tborder-radius: 1.8vw;\n\t\t\t\t/* background-image: linear-gradient(120deg, #f6d365 0%, #fda085 100%); */\n\t\t\t}\n\t\t\t.bloodPercentText {\n\t\t\t\tfont-size: 16px;\n\t\t\t}\n\t\t}\n\t\t.pause {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\t.pimg {\n\t\t\t\twidth: 5vw;\n\t\t\t\theight: 5vw;\n\t\t\t}\n\t\t}\n\t}\n\t.rocker {\n\t\tz-index: 1;\n\t\tposition: absolute;\n\t\tborder-radius: 50%;\n\t\tbackground-color: rgba(0, 0, 0, 0.2);\n\t\tpointer-events: none;\n\t}\n\t.rockerCenter {\n\t\tz-index: 2;\n\t\tposition: absolute;\n\t\tborder-radius: 50%;\n\t\tbackground-color: rgba(0, 0, 0, 0.5);\n\t\tpointer-events: none;\n\t}\n</style>\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./rampageHero.vue?vue&type=style&index=0&id=a617e2d4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./rampageHero.vue?vue&type=style&index=0&id=a617e2d4&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1713097298784\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}